# Pirro Consulting – Projekt-Status & Wissensbasis

**Datum:** 2026-02-22
**Erstellt von:** Claude Opus 4.6
**Zweck:** Vollständige Wissensbasis für nahtlose Weiterarbeit in neuen Sessions

---

## QUALITÄTSSTANDARD

**Alles was wir an diesem Projekt machen, machen wir ausschließlich im Goldstandard.** Das bedeutet:

- Jede Änderung wird auf Bugs, Accessibility (WCAG), SEO, Performance, Security und Dark-Mode-Kompatibilität geprüft
- Code wird vor dem Commit gebaut (`npm run build`) und verifiziert
- Commits haben aussagekräftige Messages mit Co-Author-Tag
- Keine Quick-and-Dirty-Lösungen, keine technischen Schulden
- Jede Runde wird systematisch auditiert bevor neue Features gebaut werden
- Wir bevorzugen einfache Lösungen über Over-Engineering

---

## 1. PROJEKT-ÜBERSICHT

**Was ist Pirro Consulting?**
Eine Consulting-Website für Noah Pirro, der Unternehmen bei Automatisierung und Digitalisierung berät. Die Seite ist eine Single-Page-Application mit Service-Unterseiten, Blog, Kontaktformular und diversen Marketing-Komponenten.

**Lokaler Pfad:** `/Users/noahpirro/pirro-consulting-clean`

---

## 2. ZUGÄNGE & INFRASTRUKTUR

### GitHub Repository
- **URL:** https://github.com/noahpirro/pirro-consulting-clean.git
- **Branch:** `main` (einziger Branch)
- **Remote:** `origin`

### Vercel Hosting
- **Live-URL:** https://pirro-consulting-clean.vercel.app
- **Vercel-Projekt:** `noahs-projects-ede6b87d/pirro-consulting-clean`
- **Deployment:** Manuell via `npx vercel --prod` (Vercel CLI nicht global installiert, nur via npx)
- **Region:** Washington, D.C., USA (East) – iad1
- **Build-Command:** `npm run build` (mit `prebuild` für Sitemap-Generierung)
- **Output-Directory:** `dist/`

### Domain
- **Ziel-Domain:** `pirroconsulting.de` (ohne Bindestrich!)
- **Domain-Registrar:** Namecheap
- **DNS-Status:** NOCH NICHT KONFIGURIERT
- **Nötige DNS-Einträge bei Namecheap:**
  - A Record: `@` → `76.76.21.21`
  - CNAME: `www` → `cname.vercel-dns.com`
- **Domain bei Vercel hinzufügen:** https://vercel.com/noahs-projects-ede6b87d/pirro-consulting-clean/settings/domains
- **Hinweis:** `npx vercel domains add pirroconsulting.de` gibt 403-Fehler → muss über Vercel Dashboard gemacht werden

### Passwortschutz (Preview)
- **Passwort:** `pirroconsulting2026`
- **Implementierung:** Client-Side Gate (`src/components/PasswordGate.tsx`), wrapped um die gesamte App in `src/App.tsx`
- **Persistenz:** `sessionStorage` (bleibt bis Tab/Browser geschlossen wird)
- **Zum Entfernen:** `<PasswordGate>` Wrapper aus `App.tsx` löschen + Datei löschen

### Kontaktdaten (im Code)
- **Telefon:** +4915152522522
- **Email:** info@pirroconsulting.de
- **Adresse:** Trippstadter Str. 110, 67663 Kaiserslautern
- **Alle Werte zentral in:** `src/constants.ts`

### Externe Services
- **Calendly:** https://calendly.com/pirroconsulting/erstgespraech
- **WhatsApp:** https://wa.me/4915152522522
- **LinkedIn:** https://www.linkedin.com/in/noahpirro
- **Instagram:** https://www.instagram.com/pirroconsulting
- **Trustpilot:** https://www.trustpilot.com/review/pirroconsulting.de
- **Web3Forms (Kontaktformular):** API Key ist PLACEHOLDER (`YOUR_WEB3FORMS_KEY` in Kontakt.tsx:63) – FUNKTIONIERT NICHT

---

## 3. TECH STACK

| Technologie | Version | Zweck |
|---|---|---|
| React | 18.3.1 | UI-Framework |
| TypeScript | 5.8.3 | Typisierung (strict: false) |
| Vite | 5.4.19 | Bundler + Dev Server |
| Tailwind CSS | 3.4.17 | Styling |
| React Router DOM | 6.30.1 | SPA-Routing |
| React Helmet Async | 2.0.5 | Per-Page SEO Meta Tags |
| Lucide React | 0.462.0 | Icons |
| Radix UI | diverse | Accordion, Tooltip, Toast |
| Sonner | 1.7.4 | Toast-Notifications |
| vite-plugin-compression2 | 2.4.0 | Gzip + Brotli Compression |

### Build-Konfiguration
- **Vite Config:** `vite.config.ts` – SWC-Plugin, Gzip+Brotli, manuelle Chunks (vendor-react, vendor-router, vendor-icons, vendor-helmet), Assets unter 8KB werden inline
- **Tailwind Config:** `tailwind.config.ts` – Custom Fonts (Inter, Space Grotesk), Custom Colors (highlight orange), Custom Keyframes
- **TypeScript:** `tsconfig.app.json` – `strict: false`, `noImplicitAny: false` (bewusst locker gehalten)
- **Path Alias:** `@/` → `./src/`

### Vercel Config (`vercel.json`)
- Security Headers: X-Content-Type-Options, X-Frame-Options, X-XSS-Protection, Referrer-Policy, Permissions-Policy, CSP
- Cache-Control: 1 Jahr immutable für `/assets/*` und statische Dateien
- SPA Rewrite: `/(*)` → `/index.html`

---

## 4. PROJEKTSTRUKTUR

```
pirro-consulting-clean/
├── index.html              # Entry point mit JSON-LD Schema (5 Schemas)
├── vercel.json             # Vercel Headers, Caching, Rewrites
├── vite.config.ts          # Build-Konfiguration
├── tailwind.config.ts      # Design System
├── tsconfig.app.json       # TypeScript Config
├── package.json            # Dependencies
├── public/
│   ├── manifest.json       # PWA Manifest
│   ├── sw.js               # Service Worker (offline fallback)
│   ├── register-sw.js      # SW Registration Script
│   ├── robots.txt          # Robots mit Sitemap-Verweis
│   ├── sitemap.xml         # Generiert via prebuild Script
│   ├── offline.html        # Offline Fallback Page
│   ├── og-image.webp       # Open Graph Image
│   ├── favicon*.png/ico    # Favicons
│   └── placeholder.svg     # Fallback Placeholder
├── scripts/
│   └── generate-sitemap.mjs  # Sitemap-Generator (prebuild)
└── src/
    ├── main.tsx            # React Entry Point
    ├── App.tsx             # App Shell (ErrorBoundary > PasswordGate > HelmetProvider > Router)
    ├── index.css           # Global CSS, CSS Variables, Dark Mode, Scrollbar
    ├── constants.ts        # Zentrale Konstanten (URLs, Kontaktdaten)
    ├── data/
    │   └── articles.ts     # Blog-Artikel Daten (6 Artikel)
    ├── hooks/
    │   ├── useInView.ts    # Intersection Observer Hook
    │   └── use-cookie-consent.ts
    ├── lib/
    │   └── utils.ts        # cn() Helper (clsx + tailwind-merge)
    ├── components/
    │   ├── ui/             # Radix UI Primitives (accordion, button, sonner, tooltip)
    │   ├── Navbar.tsx       # Navigation mit Desktop/Mobile, Services-Dropdown
    │   ├── Hero.tsx         # Hero mit ref-basiertem Parallax
    │   ├── TrustedBy.tsx    # Client-Logo Marquee
    │   ├── TrustBadges.tsx  # Trustpilot + DSGVO + Projekte Badges
    │   ├── Services.tsx     # Leistungen Übersicht
    │   ├── CaseStudies.tsx  # Fallstudien mit ref-basiertem Parallax
    │   ├── Testimonials.tsx # Kundenstimmen Karussell
    │   ├── ROICalculator.tsx # Interaktiver ROI-Rechner
    │   ├── FAQ.tsx          # FAQ Accordion
    │   ├── Footer.tsx       # Footer mit Links
    │   ├── ServicePageLayout.tsx # Shared Template für Service-Seiten
    │   ├── AnimatedRoutes.tsx    # Lazy-Loading Routes mit per-Route ErrorBoundary
    │   ├── ErrorBoundary.tsx     # React Error Boundary (dev-only logging)
    │   ├── PasswordGate.tsx      # Client-Side Passwortschutz
    │   ├── Integrations.tsx      # Tool-Logos mit InteractiveGrid Canvas
    │   ├── ... (46 Komponenten total)
    │   └── WhatsAppWidget.tsx    # WhatsApp Chat Widget
    └── pages/
        ├── Index.tsx        # Startseite
        ├── Recruiting.tsx   # Service: Recruiting
        ├── Marketing.tsx    # Service: Marketing
        ├── Webdesign.tsx    # Service: Webdesign
        ├── Blog.tsx         # Blog-Übersicht mit Suche + Kategorien
        ├── BlogArticle.tsx  # Blog-Detailseite mit TOC + Social Sharing
        ├── Kontakt.tsx      # Kontaktformular (Web3Forms)
        ├── Impressum.tsx    # Impressum (noindex)
        ├── Datenschutz.tsx  # Datenschutz (noindex)
        └── NotFound.tsx     # 404-Seite
```

---

## 5. SEO & STRUCTURED DATA

### JSON-LD Schemas (in `index.html`)
1. **ProfessionalService** – Firma, Adresse, AggregateRating, OfferCatalog
2. **FAQPage** – 3 FAQ-Einträge
3. **Organization** – Name, Logo, Gründer, knowsAbout
4. **WebSite** – Name + URL
5. **LocalBusiness** – Adresse, Geo-Koordinaten, Öffnungszeiten, Email

### Per-Page SEO (via React Helmet)
- Jede Seite hat: title, description, canonical, og:title/description/url/image/image:width/image:height, twitter:card
- Service-Seiten haben zusätzlich: Service Schema + BreadcrumbList
- Blog-Artikel haben: BlogPosting Schema (headline, datePublished, dateModified, author, wordCount, articleSection, url) + BreadcrumbList
- Blog-Übersicht hat: Blog Schema + BreadcrumbList

### Sitemap
- Automatisch generiert via `scripts/generate-sitemap.mjs` (läuft als `prebuild`)
- Enthält 12 URLs (6 statische Seiten + 6 Blog-Artikel)
- Legal pages (Impressum, Datenschutz) sind AUSGESCHLOSSEN (haben noindex)

---

## 6. WAS WURDE GEMACHT (Chronologisch)

### Session vor dieser (Commits 8e81b54 – 306b39b)
- Initiales Projekt-Setup, Design, alle Komponenten
- Blog, Kontaktformular, Impressum, Datenschutz
- SEO-Optimierung, Bundle-Reduktion (-69%)
- PWA, Security Headers, Favicons
- OG-Image, Social Sharing, dynamische Sitemap

### Diese Session (Commits e89af5e – d373fb1)

**Runde 1 – Bugs & Code Quality (e89af5e)**
- 7 Bugs gefixt: ROI Calculator, AISection Counter, CaseStudies CTA, TrustedBy Marquee, JSON-LD Logo, BlogPosting Date
- `constants.ts` erstellt als Single Source of Truth
- Sie/Du Konsistenz vereinheitlicht
- Unused Code entfernt

**Runde 1b – ServicePageLayout (26594bc)**
- Shared Template für Marketing/Recruiting/Webdesign Seiten extrahiert
- Typisiertes `ServicePageConfig` Interface
- Code-Deduplizierung

**Runde 2 – SEO, Performance, Security (5f49505)**
- Email-Konsistenz via Constants
- og:image Dimensionen auf allen Seiten
- Blog TOC mit echten Anchor-Links
- SocialProofPopup: generische Namen + sessionStorage Dismiss
- Invalid `duration-600` → `duration-500`
- Passive Scroll Listeners
- Ref-basierter Parallax (Hero + CaseStudies) statt useState
- ErrorBoundary: componentDidCatch, fallback prop, per-Route Boundaries
- Blog Animation Delay gekappt, Suspense Fallback Spinner
- Unused Assets gelöscht (use-mobile.tsx, logo.png, og-image.png)
- SW Registration in externes File extrahiert
- CSP `unsafe-inline` für Scripts entfernt
- Honeypot Accessibility (tabIndex, aria-hidden)

**Runde 3 – Accessibility, Dark Mode, SEO (1863cdd)**
- Closing Quote Fix (CaseStudies)
- Invalid Tailwind Klassen (scale-80, scale-115, hover:bg-white)
- aria-label Typo, aria-expanded, aria-hidden auf Marquees
- bg-white → bg-background für Dark Mode
- Duplicate Skip-Link entfernt
- Sitemap: noindex-Seiten entfernt
- content-visibility fixed Height entfernt
- Duplicate prefers-reduced-motion entfernt
- Blog Search aria-label
- Testimonials Keyboard Focus Pause
- ExitIntentPopup aria-describedby
- FAQ stable Keys
- BlogPosting JSON-LD: dateModified + url
- Notion Farbe Dark Mode Fix

**Runde 4 – Consistency (02cac4c)**
- Typo "vollstaendig" → "vollständig"
- Konsistentes `nofollow` auf ALLEN externen Links (13 Dateien)
- ErrorBoundary console.error nur im DEV-Modus
- manifest.json background_color auf Dark Theme

**Runde 5 – Polish (a3192ee)**
- Cache-Control Headers in vercel.json
- sw.js Error-Handling Fallback
- CursorEffect.tsx gelöscht (ungenutzt)
- Kontakt Select: disabled + Styling beim Absenden

**Runde 6 – Performance & A11y (fee5c7d)**
- Passive Listeners auf InteractiveGrid + ExitIntentPopup
- aria-hidden auf dekoratives Canvas
- decoding="async" auf Navbar + Footer Logo
- Kontakt Select: defaultValue=""

**Domain-Wechsel (57e67e0)**
- Alle URLs von `pirro-consulting.de` auf `pirroconsulting.de` geändert (76 Vorkommen, 13 Dateien)

**Passwortschutz (d373fb1)**
- Client-Side Password Gate implementiert
- Passwort: `pirroconsulting2026`

---

## 7. BEKANNTE OFFENE PUNKTE

### Blockierend für Launch
| Item | Datei | Status |
|---|---|---|
| Web3Forms API Key | `src/pages/Kontakt.tsx:63` | Placeholder `YOUR_WEB3FORMS_KEY` – Formular funktioniert nicht |
| DNS bei Namecheap | – | Domain noch nicht verbunden |

### Braucht User-Input
| Item | Details |
|---|---|
| Newsletter-Backend | Formulare in Blog.tsx + BlogArticle.tsx zeigen nur Toast, sammeln keine Emails. Braucht z.B. Mailchimp, ConvertKit oder Resend |
| About-Section Foto | `src/components/About.tsx` hat Placeholder statt echtem Foto |
| zapier.png | `src/assets/logos/zapier.png` ist eine korrupte ICO-Datei (nicht PNG/WebP). Braucht manuellen Ersatz mit echtem WebP |
| Impressum Telefonnummer | TMG §5 empfiehlt Telefonnummer im Impressum |
| JSON-LD openingHoursSpecification | Mo-Fr 9-18 im Schema, widerspricht ggf. dem Messaging "keine festen Bürozeiten" |
| Echte Kundenstimmen | Testimonials + SocialProofPopup nutzen generische/anonymisierte Namen |
| Analytics | Keine Analytics integriert (Plausible/Umami empfohlen) |
| Passwortschutz entfernen | Vor Go-Live muss `<PasswordGate>` aus App.tsx entfernt werden |

### Technisch (Nice-to-Have)
| Item | Details |
|---|---|
| TypeScript strict: true | Aktuell `strict: false` – würde projekt-weite Typ-Fixes erfordern |
| Inline Styles | 86 `style={{}}` Blöcke – funktional korrekt, großes Refactoring |
| srcset für Images | Responsive Bilder für bessere Lighthouse Scores |
| Inline @keyframes | MarqueeBand + TrustedBy haben inline `<style>` – könnte in Tailwind Config |

---

## 8. ARCHITEKTUR-ENTSCHEIDUNGEN

1. **Kein Framer Motion** – Wurde entfernt (~45KB gespart), alle Animationen sind CSS-basiert oder via `useInView` Hook
2. **Ref-basierter Parallax** – Hero + CaseStudies nutzen `useRef` + direkte DOM-Style-Mutation statt `useState` (vermeidet React Re-Renders auf Scroll)
3. **ServicePageLayout Pattern** – Typisiertes Config-Objekt pro Service-Seite, shared Layout-Komponente
4. **Constants.ts** – Single Source of Truth für alle URLs und Kontaktdaten
5. **Code-Splitting** – Lazy-loaded Routes via `React.lazy()` in `AnimatedRoutes.tsx`, vendor Chunks in Vite Config
6. **PWA** – Service Worker mit Offline-Fallback, Manifest für Install-Prompt
7. **ErrorBoundary** – Pro-Route Boundaries mit Custom Fallback UI

---

## 9. WICHTIGE DATEIEN FÜR SCHNELLE ORIENTIERUNG

| Wenn du... | Dann schau in... |
|---|---|
| URLs/Kontaktdaten ändern willst | `src/constants.ts` |
| Routing verstehen willst | `src/components/AnimatedRoutes.tsx` |
| SEO/Meta Tags ändern willst | `index.html` (global) + jeweilige Page-Datei |
| Eine neue Service-Seite anlegen willst | Bestehende kopieren (z.B. `Recruiting.tsx`) + `ServicePageLayout.tsx` |
| Blog-Artikel hinzufügen willst | `src/data/articles.ts` |
| Design-Tokens ändern willst | `src/index.css` (CSS Variables) + `tailwind.config.ts` |
| Security Headers ändern willst | `vercel.json` |
| Deployment machen willst | `npx vercel --prod` im Projektverzeichnis |
| Passwortschutz entfernen willst | `<PasswordGate>` aus `src/App.tsx` entfernen + Datei löschen |

---

## 10. BUILD & DEPLOY CHECKLISTE

```bash
# Lokal entwickeln
cd /Users/noahpirro/pirro-consulting-clean
npm run dev            # Dev Server auf Port 8080

# Build testen
npm run build          # Generiert Sitemap + Vite Build

# Deployen
npx vercel --prod      # Production Deployment

# Git Workflow
git add <files>
git commit -m "message

Co-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>"
git push
```

---

## 11. COMMIT HISTORY (neueste zuerst)

```
d373fb1 feat: add client-side password gate for preview protection
57e67e0 chore: update domain from pirro-consulting.de to pirroconsulting.de
fee5c7d fix: passive listeners, async image decoding, canvas a11y, form defaultValue
a3192ee fix: cache headers, SW error handling, remove unused component, form a11y
02cac4c fix: typo, consistent nofollow on external links, dev-only error logging
1863cdd fix: accessibility, dark mode, SEO and code quality improvements (round 3)
5f49505 fix: SEO, performance, security and UX improvements across 20 files
26594bc refactor: extract shared ServicePageLayout template for service pages
e89af5e fix: 7 bugs + code quality improvements (constants, dead code, consistency)
```

---

*Dieses Dokument ist der vollständige Wissensstand zum 2026-02-22. Mit diesem Dokument kann jede neue Session das Projekt im Goldstandard weiterentwickeln.*
